<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · DiDa.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="DiDa.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">DiDa.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>Functions</a><ul class="internal"><li><a class="tocitem" href="#Data-structures"><span>Data structures</span></a></li><li><a class="tocitem" href="#Base-functions"><span>Base functions</span></a></li><li><a class="tocitem" href="#Higher-level-array-operations"><span>Higher-level array operations</span></a></li><li><a class="tocitem" href="#Input/Output"><span>Input/Output</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/master/docs/src/functions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><h2 id="Data-structures"><a class="docs-heading-anchor" href="#Data-structures">Data structures</a><a id="Data-structures-1"></a><a class="docs-heading-anchor-permalink" href="#Data-structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DiDa.Dinfo" href="#DiDa.Dinfo"><code>DiDa.Dinfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Dinfo</code></pre><p>The basic structure for working with loaded data, distributed amongst workers. In completeness, it represents a dataset as such:</p><ul><li><code>val</code> is the &quot;value name&quot; under which the data are saved in processes. E.g. <code>val=:foo</code> means that there is a variable <code>foo</code> on each process holding a part of the matrix.</li><li><code>workers</code> is a list of workers (in correct order!) that hold the data (similar to <code>DArray.pids</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/structs.jl#L1-L11">source</a></section></article><h2 id="Base-functions"><a class="docs-heading-anchor" href="#Base-functions">Base functions</a><a id="Base-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Base-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DiDa.dexec-Tuple{Any,Any,Any}" href="#DiDa.dexec-Tuple{Any,Any,Any}"><code>DiDa.dexec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dexec(val, fn, workers)</code></pre><p>Execute a function on workers, taking <code>val</code> as a parameter. Results are not collected. This is optimal for various side-effect-causing computations that are not easily expressible with <code>dtransform</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L115-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dexec-Tuple{Dinfo,Any}" href="#DiDa.dexec-Tuple{Dinfo,Any}"><code>DiDa.dexec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dexec(dInfo::Dinfo, fn)</code></pre><p>Variant of <code>dexec</code> that works with <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmap-Tuple{Array{T,1} where T,Any,Any}" href="#DiDa.dmap-Tuple{Array{T,1} where T,Any,Any}"><code>DiDa.dmap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmap(arr::Vector, fn, workers)</code></pre><p>Call a function <code>fn</code> on <code>workers</code>, with a single parameter arriving from the corresponding position in <code>arr</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L309-L314">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmapreduce-NTuple{4,Any}" href="#DiDa.dmapreduce-NTuple{4,Any}"><code>DiDa.dmapreduce</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmapreduce(val, map, fold, workers)</code></pre><p>Run <code>map</code>s (non-modifying transforms on the data) and <code>fold</code>s (2-to-1 reductions) on the worker-local data (in <code>val</code>s) distributed on <code>workers</code> and return the final reduced result.</p><p>It is assumed that the fold operation is associative, but not commutative (as in semigroups). If there are no workers, operation returns <code>nothing</code> (we don&#39;t have a monoid to magically conjure zero elements :[ ).</p><p>In current version, the reduce step is a sequential left fold, executed in the main process.</p><p><strong>Example</strong></p><pre><code class="language-none"># compute the mean of all distributed data
sum,len = dmapreduce(:myData,
    (d) -&gt; (sum(d),length(d)),
    ((s1, l1), (s2, l2)) -&gt; (s1+s2, l1+l2),
    workers())
println(sum/len)</code></pre><p><strong>Processing multiple arguments (a.k.a. &quot;zipWith&quot;)</strong></p><p>The <code>val</code> here does not necessarily need to refer to a symbol, you can easily pass in a quoted tuple, which will be unquoted in the function parameter. For example, distributed values <code>:a</code> and <code>:b</code> can be joined as such:</p><pre><code class="language-none">dmapreduce(:((a,b)),
    ((a,b)::Tuple) -&gt; [a b],
    vcat,
    workers())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L173-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmapreduce-Tuple{Array{Dinfo,1},Any,Any}" href="#DiDa.dmapreduce-Tuple{Array{Dinfo,1},Any,Any}"><code>DiDa.dmapreduce</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmapreduce(dInfo1::Dinfo, dInfo2::Dinfo, map, fold)</code></pre><p>Variant of <code>dmapreduce</code> that works with more <code>Dinfo</code>s at once.  The data must be distributed on the same set of workers, in the same order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L245-L251">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmapreduce-Tuple{Array{T,1} where T,Any,Any,Any}" href="#DiDa.dmapreduce-Tuple{Array{T,1} where T,Any,Any,Any}"><code>DiDa.dmapreduce</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmapreduce(vals::Vector, map, fold, workers)</code></pre><p>Variant of <code>dmapreduce</code> that works with more distributed variables at once.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L235-L240">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmapreduce-Tuple{Dinfo,Any,Any}" href="#DiDa.dmapreduce-Tuple{Dinfo,Any,Any}"><code>DiDa.dmapreduce</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmapreduce(dInfo::Dinfo, map, fold)</code></pre><p>Distributed map/reduce (just as the other overload of <code>dmapreduce</code>) that works with <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L225-L230">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dtransform" href="#DiDa.dtransform"><code>DiDa.dtransform</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dtransform(dInfo::Dinfo, fn, tgt::Symbol=dInfo.val)::Dinfo</code></pre><p>Same as <code>dtransform</code>, but specialized for <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L160-L164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dtransform" href="#DiDa.dtransform"><code>DiDa.dtransform</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dtransform(val, fn, workers, tgt::Symbol=val)</code></pre><p>Transform the worker-local distributed data available as <code>val</code> on <code>workers</code> in-place, by a function <code>fn</code>. Store the result as <code>tgt</code> (default <code>val</code>)</p><p><strong>Example</strong></p><pre><code class="language-none"># multiply all saved data by 2
dtransform(:myData, (d)-&gt;(2*d), workers())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L142-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.gather_array" href="#DiDa.gather_array"><code>DiDa.gather_array</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">gather_array(dInfo::Dinfo, dim=1; free=false)</code></pre><p>Distributed gather_array (just as the other overload) that works with <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L299-L304">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.gather_array" href="#DiDa.gather_array"><code>DiDa.gather_array</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">gather_array(val::Symbol, workers, dim=1; free=false)</code></pre><p>Collect the arrays distributed on <code>workers</code> under value <code>val</code> into an array. The individual arrays are pasted in the dimension specified by <code>dim</code>, i.e. <code>dim=1</code> is roughly equivalent to using <code>vcat</code>, and <code>dim=2</code> to <code>hcat</code>.</p><p><code>val</code> must be an Array-based type; the function will otherwise fail.</p><p>If <code>free</code> is true, the <code>val</code> is <code>unscatter</code>ed after being gathered.</p><p>This preallocates the array for results, and is thus more efficient than e.g. using <code>dmapreduce</code> with <code>vcat</code> for folding.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L265-L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.get_from-Tuple{Any,Any}" href="#DiDa.get_from-Tuple{Any,Any}"><code>DiDa.get_from</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_from(worker,val)</code></pre><p>Get a value <code>val</code> from a remote <code>worker</code>; quoting of <code>val</code> works just as with <code>save_at</code>. Returns a future with the requested value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L42-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.get_val_from-Tuple{Any,Any}" href="#DiDa.get_val_from-Tuple{Any,Any}"><code>DiDa.get_val_from</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_val_from(worker,val)</code></pre><p>Shortcut for instantly fetching the future from <code>get_from</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.remove_from-Tuple{Any,Symbol}" href="#DiDa.remove_from-Tuple{Any,Symbol}"><code>DiDa.remove_from</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">remove_from(worker,sym)</code></pre><p>Sets symbol <code>sym</code> on <code>worker</code> to <code>nothing</code>, effectively freeing the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.save_at-Tuple{Any,Symbol,Any}" href="#DiDa.save_at-Tuple{Any,Symbol,Any}"><code>DiDa.save_at</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">save_at(worker, sym, val)</code></pre><p>Saves value <code>val</code> to symbol <code>sym</code> at <code>worker</code>. <code>sym</code> should be quoted (or contain a symbol). <code>val</code> gets unquoted in the processing and evaluated at the worker, quote it if you want to pass exact command to the worker.</p><p>This is loosely based on the package ParallelDataTransfers, but made slightly more flexible by omitting/delaying the explicit fetches etc. In particular, <code>save_at</code> is roughly the same as <code>ParallelDataTransfers.sendto</code>, and <code>get_val_from</code> works very much like <code>ParallelDataTransfers.getfrom</code>.</p><p><strong>Return value</strong></p><p>A future with Nothing that can be fetched to see that the operation has finished.</p><p><strong>Examples</strong></p><pre><code class="language-none">addprocs(1)
save_at(2,:x,123)       # saves 123
save_at(2,:x,myid())    # saves 1
save_at(2,:x,:(myid())) # saves 2
save_at(2,:x,:(:x))     # saves the symbol :x
                        # (just :x won&#39;t work because of unquoting)</code></pre><p><strong>Note: Symbol scope</strong></p><p>The symbols are saved in Main module on the corresponding worker. For example, <code>save_at(1, :x, nothing)</code> <em>will</em> erase your local <code>x</code> variable. Beware of name collisions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L1-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.scatter_array-Tuple{Symbol,Array,Any}" href="#DiDa.scatter_array-Tuple{Symbol,Array,Any}"><code>DiDa.scatter_array</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scatter_array(sym, x::Array, pids; dim=1)::Dinfo</code></pre><p>Distribute roughly equal parts of array <code>x</code> separated on dimension <code>dim</code> among <code>pids</code> into a worker-local variable <code>sym</code>.</p><p>Returns the <code>Dinfo</code> structure for the distributed data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L70-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.tmp_symbol-Tuple{Dinfo}" href="#DiDa.tmp_symbol-Tuple{Dinfo}"><code>DiDa.tmp_symbol</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">tmp_symbol(dInfo::Dinfo; prefix=&quot;&quot;, suffix=&quot;_tmp&quot;)</code></pre><p>Decorate the symbol from <code>dInfo</code> with prefix and suffix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L333-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.tmp_symbol-Tuple{Symbol}" href="#DiDa.tmp_symbol-Tuple{Symbol}"><code>DiDa.tmp_symbol</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">tmp_symbol(s::Symbol; prefix=&quot;&quot;, suffix=&quot;_tmp&quot;)</code></pre><p>Decorate a symbol <code>s</code> with prefix and suffix, to create a good name for a related temporary value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L323-L328">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.unscatter-Tuple{Dinfo}" href="#DiDa.unscatter-Tuple{Dinfo}"><code>DiDa.unscatter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unscatter(dInfo::Dinfo)</code></pre><p>Remove the loaded data described by <code>dInfo</code> from the corresponding workers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L106-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.unscatter-Tuple{Symbol,Any}" href="#DiDa.unscatter-Tuple{Symbol,Any}"><code>DiDa.unscatter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unscatter(sym, workers)</code></pre><p>Remove the loaded data from workers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/base.jl#L95-L99">source</a></section></article><h2 id="Higher-level-array-operations"><a class="docs-heading-anchor" href="#Higher-level-array-operations">Higher-level array operations</a><a id="Higher-level-array-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Higher-level-array-operations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DiDa.catmapbuckets-Tuple{Any,Array,Int64,Array{Int64,1}}" href="#DiDa.catmapbuckets-Tuple{Any,Array,Int64,Array{Int64,1}}"><code>DiDa.catmapbuckets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">catmapbuckets(fn, a::Array, nbuckets::Int, buckets::Vector{Int}; bucketdim::Int=1)</code></pre><p>Same as <code>mapbuckets</code>, except concatenates the bucketing results in the bucketing dimension, thus creating a slightly neater matrix. <code>slicedims</code> is therefore fixed to <code>bucketdim</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L240-L246">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.combine_stats-Tuple{Any,Any}" href="#DiDa.combine_stats-Tuple{Any,Any}"><code>DiDa.combine_stats</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">combine_stats((s1, sqs1, n1), (s2, sqs2, n2))</code></pre><p>Helper for <code>dstat</code>-style functions that just adds up elements in triplets of vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L78-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dapply_cols-Tuple{Dinfo,Any,Array{Int64,1}}" href="#DiDa.dapply_cols-Tuple{Dinfo,Any,Array{Int64,1}}"><code>DiDa.dapply_cols</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dapply_cols(dInfo::Dinfo, fn, columns::Vector{Int})</code></pre><p>Apply a function <code>fn</code> over columns of a distributed dataset.</p><p><code>fn</code> gets <em>2</em> parameters:</p><ul><li>a data vector for (the whole column saved at one worker)</li><li>index of the column in the <code>columns</code> array (i.e. a number from <code>1:length(columns)</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L45-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dapply_rows-Tuple{Dinfo,Any}" href="#DiDa.dapply_rows-Tuple{Dinfo,Any}"><code>DiDa.dapply_rows</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dapply_rows(dInfo::Dinfo, fn)</code></pre><p>Apply a function <code>fn</code> over rows of a distributed dataset.</p><p><code>fn</code> gets a single vector parameter for each row to transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L63-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dcopy-Tuple{Dinfo,Symbol}" href="#DiDa.dcopy-Tuple{Dinfo,Symbol}"><code>DiDa.dcopy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dcopy(dInfo::Dinfo, newName::Symbol)</code></pre><p>Clone the dataset and store it under a new distributed name <code>newName</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dcount-Tuple{Int64,Dinfo}" href="#DiDa.dcount-Tuple{Int64,Dinfo}"><code>DiDa.dcount</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dcount(ncats::Int, dInfo::Dinfo)::Vector{Int}</code></pre><p>Count the numbers of integer vector values stored in <code>dInfo</code>; assuming the values are in range 1–<code>ncats</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L148-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dcount_buckets-Tuple{Int64,Dinfo,Int64,Dinfo}" href="#DiDa.dcount_buckets-Tuple{Int64,Dinfo,Int64,Dinfo}"><code>DiDa.dcount_buckets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dcount_buckets(ncats::Int, dInfo::Dinfo, nbuckets::Int, buckets::Dinfo)::Matrix{Int}</code></pre><p>Same as <code>dcount</code>, but counts the items in <code>dInfo</code> bucketed by <code>buckets</code> to produce a matrix of counts, with <code>ncats</code> rows and <code>nbuckets</code> columns.</p><p>Useful with <code>distributeFCSFileVector</code> to determine cluster distribution within files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L166-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmedian-Tuple{Dinfo,Array{Int64,1}}" href="#DiDa.dmedian-Tuple{Dinfo,Array{Int64,1}}"><code>DiDa.dmedian</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmedian(dInfo::Dinfo, columns::Vector{Int})</code></pre><p>Compute a median in a distributed fashion, avoiding data transfer and memory capacity that is required to compute the median in the classical way by sorting. All data must be finite and defined. If the median is just between 2 values, the lower one is chosen.</p><p>The algorithm is approximative, searching for a good median by halving interval and counting how many values are below the threshold. <code>iters</code> can be increased to improve precision, each value adds roughly 1 bit to the precision. The default value is 20, which corresponds to precision 10e-6 times the data range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L298-L310">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dmedian_buckets-Tuple{Dinfo,Int64,Dinfo,Array{Int64,1}}" href="#DiDa.dmedian_buckets-Tuple{Dinfo,Int64,Dinfo,Array{Int64,1}}"><code>DiDa.dmedian_buckets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dmedian_buckets(dInfo::Dinfo, nbuckets::Int, buckets::Dinfo, columns::Vector{Int}; iters=20)</code></pre><p>A version of <code>dmedian</code> that works with the bucketing information (i.e. clusters) from <code>nbuckets</code> and <code>buckets</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L342-L347">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dscale-Tuple{Dinfo,Array{Int64,1}}" href="#DiDa.dscale-Tuple{Dinfo,Array{Int64,1}}"><code>DiDa.dscale</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dscale(dInfo::Dinfo, columns::Vector{Int})</code></pre><p>Scale the columns in the dataset to have mean 0 and sdev 1.</p><p>Prevents creation of NaNs by avoiding division by zero sdevs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L192-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dselect" href="#DiDa.dselect"><code>DiDa.dselect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">function dselect(dInfo::Dinfo,
    currentColnames::Vector{String}, selectColnames::Vector{String};
    tgt=dInfo.val)::Dinfo</code></pre><p>Convenience overload of <code>dselect</code> that works with column names.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L24-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dselect" href="#DiDa.dselect"><code>DiDa.dselect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dselect(dInfo::Dinfo, columns::Vector{Int}; tgt=dInfo.val)</code></pre><p>Reduce dataset to selected columns, optionally save it under a different name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dstat-Tuple{Dinfo,Array{Int64,1}}" href="#DiDa.dstat-Tuple{Dinfo,Array{Int64,1}}"><code>DiDa.dstat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dstat(dInfo::Dinfo, columns::Vector{Int})::Tuple{Vector{Float64}, Vector{Float64}}</code></pre><p>Compute mean and standard deviation of the columns in dataset. Returns a tuple with a vector of means in <code>columns</code>, and a vector of corresponding sdevs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L88-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dstat_buckets-Tuple{Dinfo,Int64,Dinfo,Array{Int64,1}}" href="#DiDa.dstat_buckets-Tuple{Dinfo,Int64,Dinfo,Array{Int64,1}}"><code>DiDa.dstat_buckets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dstat_buckets(dInfo::Dinfo, nbuckets::Int, buckets::Dinfo, columns::Vector{Int})::Tuple{Matrix{Float64}, Matrix{Float64}}</code></pre><p>A version of <code>dstat</code> that works with bucketing information (e.g. clusters); returns a tuple of matrices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L118-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.mapbuckets-Tuple{Any,Array,Int64,Array{Int64,1}}" href="#DiDa.mapbuckets-Tuple{Any,Array,Int64,Array{Int64,1}}"><code>DiDa.mapbuckets</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">mapbuckets(fn, a::Array, nbuckets::Int, buckets::Vector{Int}; bucketdim::Int=1, slicedims=bucketdim)</code></pre><p>Apply the function <code>fn</code> over array <code>a</code> so that it processes the data by buckets defined by <code>buckets</code> (that contains integers in range <code>1:nbuckets</code>).</p><p>The buckets are sliced out in dimension specified by <code>bucketdim</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L208-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.reduce_extrema-Tuple{Any,Any}" href="#DiDa.reduce_extrema-Tuple{Any,Any}"><code>DiDa.reduce_extrema</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">reduce_extrema(ex1, ex2)</code></pre><p>Helper for gathering the minima and maxima of the data. <code>ex1</code>, <code>ex2</code> are arrays of pairs (min,max), this function combines the arrays element-wise and finds combined minima and maxima.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L268-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.update_extrema-NTuple{4,Any}" href="#DiDa.update_extrema-NTuple{4,Any}"><code>DiDa.update_extrema</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">update_extrema(counts, target, lim, mid)</code></pre><p>Helper for distributed median computation – returns updated extrema in <code>lims</code> depending on whether the item count in <code>counts</code> of values less than <code>mids</code> is less or higher than <code>targets</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/tools.jl#L279-L285">source</a></section></article><h2 id="Input/Output"><a class="docs-heading-anchor" href="#Input/Output">Input/Output</a><a id="Input/Output-1"></a><a class="docs-heading-anchor-permalink" href="#Input/Output" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DiDa.defaultFiles-Tuple{Any,Any}" href="#DiDa.defaultFiles-Tuple{Any,Any}"><code>DiDa.defaultFiles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">defaultFiles(s, pids)</code></pre><p>Make a good set of filenames for saving a dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dload" href="#DiDa.dload"><code>DiDa.dload</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dload(dInfo::Dinfo, files=defaultFiles(dInfo.val, dInfo.workers))</code></pre><p>Overloaded functionality for <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dload" href="#DiDa.dload"><code>DiDa.dload</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dload(sym::Symbol, pids, files=defaultFiles(sym,pids))</code></pre><p>Import the content of symbol <code>sym</code> by each worker specified by <code>pids</code> from the corresponding filename in <code>files</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dstore" href="#DiDa.dstore"><code>DiDa.dstore</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dstore(dInfo::Dinfo, files=defaultFiles(dInfo.val, dInfo.workers))</code></pre><p>Overloaded functionality for <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dstore" href="#DiDa.dstore"><code>DiDa.dstore</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dstore(sym::Symbol, pids, files=defaultFiles(sym,pids))</code></pre><p>Export the content of symbol <code>sym</code> by each worker specified by <code>pids</code> to a corresponding filename in <code>files</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L11-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dunlink" href="#DiDa.dunlink"><code>DiDa.dunlink</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dunlink(dInfo::Dinfo, files=defaultFiles(dInfo.val, dInfo.workers))</code></pre><p>Overloaded functionality for <code>Dinfo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DiDa.dunlink" href="#DiDa.dunlink"><code>DiDa.dunlink</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dunlink(sym::Symbol, pids, files=defaultFiles(sym,pids))</code></pre><p>Remove the files created by <code>dstore</code> with the same parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LCSB-BioCore/DiDa.jl/blob/218ed32672f193238e834136def88df5a2e05738/src/io.jl#L75-L79">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 25 January 2021 15:15">Monday 25 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
